version: 2.1

jobs:
  build-flutter:
    docker:
      - image: slashwhyorganization/flutter-sdk-image:3.19.0

    steps:
      - checkout
      - restore_cache:
          keys: [flutter-web-build]
      - run:
          name: Build Flutter web app
          command: |
            cd Flutter
            flutter pub get
            flutter build web
            
      - save_cache:
          paths: [./.dart_tool/flutter/build]
          key: flutter-web-build


workflows:
  default:
    jobs:
      - build-flutter